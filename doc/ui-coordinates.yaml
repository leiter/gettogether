# UI Coordinates for GetTogether App
# ===================================
# Machine-readable UI element coordinates for automated testing
#
# How to capture new coordinates:
#   adb shell uiautomator dump /sdcard/ui.xml && adb pull /sdcard/ui.xml
#
# How to get device info:
#   adb devices -l

devices:
  # Pixel 7a Test Device
  37281JEHN03065:
    model: Pixel_7a
    product: lynx
    resolution: [1080, 2400]

    screens:
      # =====================
      # Authentication Screens
      # =====================
      welcome:
        create_account_button:
          bounds: [[84, 1176], [996, 1302]]
          tap: [540, 1239]
        import_account_button:
          bounds: [[84, 1344], [996, 1470]]
          tap: [540, 1407]

      create_account:
        display_name_field:
          bounds: [[84, 1053], [996, 1221]]
          tap: [540, 1137]
        create_button:
          bounds: [[84, 1306], [996, 1432]]
          tap: [540, 1369]

      # =====================
      # Main Navigation (VERIFIED 2026-01-23)
      # =====================
      home:
        bottom_nav:
          chats_tab:
            bounds: [[0, 2127], [346, 2337]]
            tap: [173, 2232]
          contacts_tab:
            bounds: [[367, 2127], [713, 2337]]
            tap: [540, 2232]
          settings_tab:
            bounds: [[734, 2127], [1080, 2337]]
            tap: [907, 2232]
        fab_new_conversation:  # VERIFIED 2026-01-23
          bounds: [[891, 1938], [1038, 2085]]
          tap: [965, 2012]

      # =====================
      # Chats Screen (VERIFIED 2026-01-23)
      # =====================
      chats:
        list_items:
          first:
            bounds: [[0, 404], [1080, 614]]
            tap: [540, 509]
          second:
            bounds: [[0, 614], [1080, 824]]
            tap: [540, 719]
          third:
            bounds: [[0, 824], [1080, 1034]]
            tap: [540, 929]

      # =====================
      # Contacts Screen
      # =====================
      contacts:
        add_contact_button:
          bounds: [[944, 258], [1070, 384]]
          tap: [1007, 321]
        list_items:
          first:
            bounds: [[0, 404], [1080, 614]]
            tap: [540, 509]
          second:
            bounds: [[0, 614], [1080, 824]]
            tap: [540, 719]

      # =====================
      # Settings Screen
      # =====================
      settings:
        profile_section:
          bounds: [[0, 404], [1080, 678]]
          tap: [540, 541]
        account_section:
          bounds: [[0, 681], [1080, 870]]
          tap: [540, 776]
        notifications_section:
          bounds: [[0, 870], [1080, 1059]]
          tap: [540, 965]
        privacy_section:
          bounds: [[0, 1059], [1080, 1248]]
          tap: [540, 1154]
        about_section:
          bounds: [[0, 1293], [1080, 1482]]
          tap: [540, 1388]
        sign_out_button:
          bounds: [[0, 1482], [1080, 1671]]
          tap: [540, 1577]

      # =====================
      # Add Contact Screen
      # =====================
      add_contact:
        back_button:
          bounds: [[12, 140], [138, 266]]
          tap: [75, 203]
        username_field:
          bounds: [[63, 475], [1017, 643]]
          tap: [540, 559]
        search_button:
          bounds: [[63, 686], [1017, 812]]
          tap: [540, 749]

      # =====================
      # Chat Screen (VERIFIED 2026-01-23)
      # =====================
      chat:
        back_button:
          bounds: [[21, 258], [147, 384]]
          tap: [84, 321]

        # ----- KEYBOARD HIDDEN (closed) -----
        keyboard_hidden:
          message_input:
            tap: [634, 2255]
            note: "Tap to open keyboard"
          send_button:
            tap: [655, 2255]
          image_picker:
            tap: [57, 2255]

        # ----- KEYBOARD OPEN -----
        keyboard_open:
          message_input:
            tap: [634, 2255]
            note: "Same as hidden - opens keyboard"
          send_button:
            tap: [1006, 1419]
            note: "VERIFIED - sends message with keyboard open"
          image_picker:
            tap: [104, 1380]
            note: "VERIFIED - opens file picker with keyboard open"

      # =====================
      # New Conversation Screen (VERIFIED 2026-01-23)
      # =====================
      new_conversation:
        back_button:
          bounds: [[12, 140], [138, 266]]
          tap: [75, 203]
        group_call_button:
          bounds: [[944, 140], [1070, 266]]
          tap: [1007, 203]
        search_field:
          bounds: [[42, 307], [1038, 454]]
          tap: [540, 381]
        contact_list_items:
          first:
            bounds: [[0, 475], [1080, 685]]
            tap: [540, 580]
          second:
            bounds: [[0, 685], [1080, 895]]
            tap: [540, 790]

  # Pixel 2 Test Device
  FA7AJ1A06417:
    model: Pixel_2
    product: walleye
    resolution: [1080, 1920]

    screens:
      # =====================
      # Main Navigation
      # =====================
      home:
        bottom_nav:
          chats_tab:
            tap: [192, 1677]
          contacts_tab:
            tap: [559, 1709]
          settings_tab:
            tap: [932, 1692]
        fab_new_conversation:
          tap: [975, 945]

      # =====================
      # Common Elements
      # =====================
      common:
        back_button:
          tap: [50, 91]
        top_right_action:
          tap: [1010, 168]

      # =====================
      # Contacts Screen
      # =====================
      contacts:
        add_contact_button:
          tap: [1011, 118]
        list_items:
          first:
            tap: [615, 540]
          second:
            tap: [584, 400]

      # =====================
      # Add Contact Screen
      # =====================
      add_contact:
        search_button:
          tap: [833, 729]
        input_field:
          tap: [683, 1725]

  # Android Emulator - Medium Phone API 36
  emulator-5554:
    model: sdk_gphone64_arm64
    product: sdk_gphone64_arm64
    resolution: [1080, 2400]
    # Tested accounts: Quic (@e026379d8c785fe14b3218ecc790884cbdbef13a)

    screens:
      # =====================
      # Authentication Screens
      # =====================
      welcome:
        create_account_button:
          bounds: [[84, 1176], [996, 1302]]
          tap: [540, 1239]
        import_account_button:
          bounds: [[84, 1344], [996, 1470]]
          tap: [540, 1407]

      create_account:
        display_name_field:
          bounds: [[84, 599], [996, 767]]
          tap: [540, 683]
        create_button:
          bounds: [[84, 852], [996, 978]]
          tap: [540, 915]
        back_button:
          bounds: [[12, 85], [138, 211]]
          tap: [75, 148]

      # =====================
      # Main Navigation (VERIFIED 2026-01-16)
      # =====================
      home:
        bottom_nav:
          chats_tab:
            bounds: [[0, 2127], [346, 2337]]
            tap: [173, 2232]
          contacts_tab:
            bounds: [[367, 2127], [713, 2337]]
            tap: [540, 2232]
          settings_tab:
            bounds: [[734, 2127], [1080, 2337]]
            tap: [907, 2232]

      # =====================
      # Contacts Screen (VERIFIED 2026-01-16)
      # =====================
      contacts:
        add_contact_button:
          bounds: [[944, 148], [1070, 274]]
          tap: [1007, 211]

      # =====================
      # Add Contact Screen (VERIFIED 2026-01-16)
      # =====================
      add_contact:
        back_button:
          bounds: [[12, 85], [138, 211]]
          tap: [75, 148]
        username_field:
          bounds: [[63, 420], [1017, 588]]
          tap: [540, 504]
        search_button:
          bounds: [[63, 631], [1017, 757]]
          tap: [540, 694]
        # Search result card with Add Contact button
        search_result:
          add_contact_button:
            bounds: [[105, 1282], [975, 1408]]
            tap: [540, 1345]

      # =====================
      # Permission Dialogs (Android 36)
      # =====================
      permission_dialog:
        while_using_app:
          bounds: [[133, 1176], [947, 1281]]
          tap: [540, 1228]
        only_this_time:
          bounds: [[133, 1324], [947, 1429]]
          tap: [540, 1376]
        dont_allow:
          bounds: [[133, 1472], [947, 1577]]
          tap: [540, 1524]

      notification_permission:
        allow:
          bounds: [[133, 1250], [947, 1355]]
          tap: [540, 1302]
        dont_allow:
          bounds: [[133, 1398], [947, 1503]]
          tap: [540, 1450]

  # Android Emulator - Pixel 2 API 36
  emulator-5556:
    model: sdk_gphone64_arm64
    product: sdk_gphone64_arm64
    resolution: [1080, 2424]
    # Tested accounts: UserB (@3bbc978bd8f3757a894d55079a6f85744b0f04ba)

    screens:
      # =====================
      # Main Navigation (VERIFIED 2026-01-16)
      # =====================
      home:
        bottom_nav:
          chats_tab:
            bounds: [[0, 2151], [346, 2361]]
            tap: [173, 2256]
          contacts_tab:
            bounds: [[367, 2151], [713, 2361]]
            tap: [540, 2256]
          settings_tab:
            bounds: [[734, 2151], [1080, 2361]]
            tap: [907, 2256]

      # =====================
      # Chats Screen - Conversation Requests (VERIFIED 2026-01-16)
      # =====================
      chats:
        conversation_request:
          accept_button:
            bounds: [[42, 590], [529, 716]]
            tap: [285, 653]
          decline_button:
            bounds: [[550, 590], [1038, 716]]
            tap: [794, 653]

      # =====================
      # Contacts Screen
      # =====================
      contacts:
        add_contact_button:
          bounds: [[944, 148], [1070, 274]]
          tap: [1007, 211]

# =============================================================================
# Template for adding new Android devices
# =============================================================================
# To add a new Android device:
# 1. Get serial: adb devices
# 2. Get model: adb devices -l (look for model:XXX)
# 3. Get resolution: adb shell wm size
# 4. Capture UI: adb shell uiautomator dump /sdcard/ui.xml && adb pull /sdcard/ui.xml
# 5. Add section below with coordinates from ui.xml
#
# Calculate tap coordinates from bounds:
#   tap_x = (x1 + x2) / 2
#   tap_y = (y1 + y2) / 2
#
# Example:
#   NEW_SERIAL_NUMBER:
#     model: Device_Model
#     product: product_name
#     resolution: [width, height]
#     screens:
#       welcome:
#         create_account_button:
#           bounds: [[x1, y1], [x2, y2]]
#           tap: [center_x, center_y]

# =============================================================================
# iOS Simulator Coordinates
# =============================================================================
# NOTE: iOS uses a MOCK JamiBridge implementation. Real network contact requests
# are NOT possible until native iOS Jami daemon integration is completed.
#
# How to capture iOS coordinates:
# 1. Run app in iOS Simulator from Xcode
# 2. Use Accessibility Inspector (Xcode > Open Developer Tool > Accessibility Inspector)
# 3. Select the iOS Simulator as the target
# 4. Hover over UI elements to see their frame coordinates
# 5. Alternative: Add tap gesture logging temporarily to the iOS app
#
# iOS Simulator serials follow pattern: DEVICE_UUID
# Get list: xcrun simctl list devices

ios_simulators:
  # Template for iPhone 15 Pro (iOS 18.0)
  # Replace SIMULATOR_UUID with actual UUID from `xcrun simctl list devices`
  iPhone-15-Pro-template:
    model: iPhone 15 Pro
    os_version: iOS 18.0
    resolution: [393, 852]  # Logical points (not pixels)
    scale_factor: 3  # @3x retina
    note: "MOCK IMPLEMENTATION - Real contact requests require native integration"

    screens:
      # =====================
      # Authentication Screens
      # =====================
      welcome:
        create_account_button:
          # Coordinates in logical points
          frame: [20, 400, 353, 50]  # [x, y, width, height]
          tap: [196, 425]
        import_account_button:
          frame: [20, 470, 353, 50]
          tap: [196, 495]

      create_account:
        display_name_field:
          frame: [20, 200, 353, 44]
          tap: [196, 222]
        create_button:
          frame: [20, 280, 353, 50]
          tap: [196, 305]

      # =====================
      # Main Navigation (TabView)
      # =====================
      home:
        tab_bar:
          chats_tab:
            tap: [65, 815]
          contacts_tab:
            tap: [196, 815]
          settings_tab:
            tap: [327, 815]

      # =====================
      # Contacts Screen
      # =====================
      contacts:
        add_contact_button:
          # Navigation bar trailing button
          tap: [360, 55]

      # =====================
      # Add Contact Screen
      # =====================
      add_contact:
        back_button:
          tap: [30, 55]
        username_field:
          frame: [20, 120, 353, 44]
          tap: [196, 142]
        search_button:
          frame: [20, 180, 353, 50]
          tap: [196, 205]

  # Template for iPhone SE (3rd gen) - smaller screen
  iPhone-SE-template:
    model: iPhone SE (3rd generation)
    os_version: iOS 18.0
    resolution: [375, 667]  # Logical points
    scale_factor: 2  # @2x retina
    note: "MOCK IMPLEMENTATION - Real contact requests require native integration"

    screens:
      # Coordinates TBD - run simulator and capture with Accessibility Inspector
      placeholder:
        note: "Run Accessibility Inspector to capture coordinates for this device"

# =============================================================================
# iOS Coordinate Capture Instructions
# =============================================================================
# Step-by-step guide for capturing iOS UI coordinates:
#
# Method 1: Accessibility Inspector (Recommended)
# ------------------------------------------------
# 1. Open Xcode
# 2. Menu: Xcode > Open Developer Tool > Accessibility Inspector
# 3. In Accessibility Inspector, click the target picker (crosshair icon)
# 4. Select your iOS Simulator from the dropdown
# 5. Hover over UI elements - coordinates shown in the inspector
# 6. Frame shows: [x, y, width, height] in logical points
# 7. Calculate tap point: tap_x = x + width/2, tap_y = y + height/2
#
# Method 2: Debug View Hierarchy
# ------------------------------
# 1. Run app in Simulator
# 2. In Xcode: Debug > View Debugging > Capture View Hierarchy
# 3. Click on elements to see their frames in the inspector
#
# Method 3: Temporary Tap Logger
# ------------------------------
# Add this to your SwiftUI view temporarily:
#   .onTapGesture { location in
#       print("Tap at: \(location)")
#   }
#
# Important Notes:
# - iOS uses logical points, not pixels
# - Multiply by scale_factor to get pixel coordinates
# - Safe area insets affect usable screen area
# - Tab bar height is typically 49 points + safe area
